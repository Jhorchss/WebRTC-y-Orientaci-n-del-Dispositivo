<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>WebRTC y Orientaci√≥n del Dispositivo</title>
        <!--Estilos generales de la p√°gina-->
    <style>       
        body {
            font-family: sans-serif;
            text-align: center;
            padding: 50px;
            transition: background-color 0.5s;
        }
        .landscape {
            background-color: #d0f0c0;
        }
        .portrait {
            background-color: #f8a8f0;
        }
        video {
            margin-top: 20px;
            max-width: 90%;
            border: 2px solid #333;
        }
    </style>
</head>
<body>
    <h1>WebRTC + Detecci√≥n de Orientaci√≥n</h1>
    <!-- solo comentarios de lo que se esta viendo en p√°gina -->
    <h2>Estado de C√°mara y Micr√≥fono</h2>
    <p id="mensaje"></p>

    <h2>Orientaci√≥n del Dispositivo</h2>
    <p id="orientacion">Detectando orientaci√≥n...</p>

    <script>
        // WebRTC: Acceso a c√°mara y micr√≥fono 
        const mensaje = document.getElementById("mensaje");

        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            mensaje.textContent = "‚úÖ Tu navegador soporta WebRTC. Solicitando acceso a c√°mara y micr√≥fono..."; // si esta soportado, aparecer√°

            navigator.mediaDevices.getUserMedia({ video: true, audio: true }) // Este es para dar acceso a la c√°mara y microfono
                .then((stream) => {
                    mensaje.textContent = "‚úÖ Acceso concedido a c√°mara y micr√≥fono.";

                    const video = document.createElement('video'); //mostrara el video
                    video.srcObject = stream;
                    video.autoplay = true; // se autoejecutara el video
                    video.muted = true; // para evitar eco al reproducir
                    document.body.appendChild(video); // podra estar en peque√±o y ponemos moverlo
                })
                .catch((error) => {
                    mensaje.textContent = "‚ùå Acceso denegado o error: " + error.message;
                }); // si no se da acceso

        } else {
            mensaje.textContent = "‚ùå Tu navegador no soporta WebRTC.";
        } // si no lo soporta el navegador

        // Detecci√≥n de orientaci√≥n del dispositivo, cuando la pagina este en horizontal o vertical, cambiara de color  
        const texto = document.getElementById("orientacion");

        function detectarOrientacion() { //funci√≥n para dar vida a la posici√≥n de la p√°gina
            if (window.matchMedia("(orientation: portrait)").matches) {
                document.body.className = "portrait"; //para qeu el sistema detecte vertical
                texto.textContent = "üì±‚Üï Est√°s en orientaci√≥n 'vertical' ‚ÜïÔ∏è";
            } else if (window.matchMedia("(orientation: landscape)").matches) {
                document.body.className = "landscape"; //modo paisaje para horizontal
                texto.textContent = "üì± Est√°s en orientaci√≥n 'horizontal'‚ÜîÔ∏è";
            } else {
                texto.textContent = "No se pudo detectar la orientaci√≥n."; // si se da el caso
            }
        }

        // Ejecutar al cargar y cuando cambie la orientaci√≥n
        detectarOrientacion();
        window.addEventListener("orientationchange", detectarOrientacion);
        window.addEventListener("resize", detectarOrientacion);
    </script>
</body>
</html>
